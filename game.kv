#:set font_size_indicators dp(25)

ScreenManager:
    MainScreen:
    Level1:
    Level2:
    Level3:
    Level4:
    Level5:
    Level6:
    Level7:
    Level8:
    Level9:
    Level10:

<MainScreen>:
    name: "main"
    on_enter: app.main_screen_on_enter()
    on_leave: app.main_screen_on_leave()
    canvas.before:
        Rectangle:
            size: self.size
            source: 'graphics/Tower_1.jpg'
    Label:
        text: "Adelita Adventures"
        font_size: dp(80)
        font_name: 'graphics/fonts/magic-school/MagicSchoolOne.ttf'
        size_hint: .60, .20
        pos_hint: {'center_x': 0.5, 'center_y': 0.8}
        outline_width: 10
        color: 0.8, 0, 0, 1
        outline_color: 0, 0, 0.6, 1
    RelativeLayout:
        id: lvls_imagebuttons
        LevelButton:
            text: "Level 1"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level1"
            pos_hint: {"center_x": .5, "center_y": .55}
        LevelButton:
            text: "Level 2"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level2"
            pos_hint: {"center_x": .5, "center_y": .45}
        LevelButton:
            text: "Level 3"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level3"
            pos_hint: {"center_x": .5, "center_y": .35}
        LevelButton:
            text: "Level 4"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level4"
            pos_hint: {"center_x": .5, "center_y": .25}
        LevelButton:
            text: "Level 5"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level5"
            pos_hint: {"center_x": .5, "center_y": .15}
        LevelButton:
            text: "Level 6"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level6"
            pos_hint: {"center_x": .7, "center_y": .55}
        LevelButton:
            text: "Level 7"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level7"
            pos_hint: {"center_x": .7, "center_y": .45}
        LevelButton:
            text: "Level 8"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level8"
            pos_hint: {"center_x": .7, "center_y": .35}
        LevelButton:
            text: "Level 9"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level9"
            pos_hint: {"center_x": .7, "center_y": .25}
        LevelButton:
            text: "Level 10"
            on_release:
                root.manager.transition.direction = 'left'
                app.root.current="level10"
            pos_hint: {"center_x": .7, "center_y": .15}

<Level1>:
    name: "level1"
    on_pre_enter: app.screen_on_pre_enter(1)
    #on_pre_leave: app.screen_on_pre_leave(1)
    on_enter: app.screen_on_enter(1)
    on_leave: app.screen_on_leave(1)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl1
                on_press: app.pause_game(1)
            KissButton:
                id: kiss_button_lvl1
                on_state: app.on_toggle_button_state(self, 1)
            SpecialButton:
                #id: special_button_lvl1
                disabled: True
            #    on_state: app.on_special_button_state(self, 1)
            MoveAuxChar1:
                #id: move_aux_char_1_lvl6
                #on_state: app.on_move_aux_char_1_button(self, 6)
                disabled: True
            MoveAuxChar2:
                disabled: True
        FloatLayout:
            #size_hint: 0, 0.9
            id: layout_lvl1
            on_touch_down: app.touch_down_handler(1, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_1.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 1"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl1
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl1
            Character:
                id: character_image_lvl1
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            RemainingLifePercent
                id: remaining_life_percent_lvl1
            PauseMenuWidget:
                id: pause_menu_lvl1



<Level2>:
    name: "level2"
    on_pre_enter: app.screen_on_pre_enter(2)
    #on_pre_leave: app.screen_on_pre_leave(2)
    on_enter: app.screen_on_enter(2)
    on_leave: app.screen_on_leave(2)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl2
                on_press: app.pause_game(2)
            KissButton:
                id: kiss_button_lvl2
                on_state: app.on_toggle_button_state(self, 2)
            SpecialButton:
                id: special_button_lvl2
                on_state: app.on_special_button_state(self, 2)
            MoveAuxChar1:
                #id: move_aux_char_1_lvl6
                #on_state: app.on_move_aux_char_1_button(self, 6)
                disabled: True
            MoveAuxChar2:
                disabled: True
        FloatLayout:
            id: layout_lvl2
            on_touch_down: app.touch_down_handler(2, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_1.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 2"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl2
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl2
            Character:
                id: character_image_lvl2
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            RemainingLifePercent
                id: remaining_life_percent_lvl2
            PauseMenuWidget:
                id: pause_menu_lvl2

<Level3>:
    name: "level3"
    on_pre_enter: app.screen_on_pre_enter(3)
    #on_pre_leave: app.screen_on_pre_leave(3)
    on_enter: app.screen_on_enter(3)
    on_leave: app.screen_on_leave(3)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl3
                on_press: app.pause_game(3)
            KissButton:
                id: kiss_button_lvl3
                on_state: app.on_toggle_button_state(self, 3)
            SpecialButton:
                id: special_button_lvl3
                on_state: app.on_special_button_state(self, 3)
            MoveAuxChar1:
                #id: move_aux_char_1_lvl6
                #on_state: app.on_move_aux_char_1_button(self, 6)
                disabled: True
            MoveAuxChar2:
                disabled: True
        FloatLayout:
            id: layout_lvl3
            on_touch_down: app.touch_down_handler(3, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_2.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 3"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl3
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl3
            Character:
                id: character_image_lvl3
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            RemainingLifePercent
                id: remaining_life_percent_lvl3
            PauseMenuWidget:
                id: pause_menu_lvl3

<Level4>:
    name: "level4"
    on_pre_enter: app.screen_on_pre_enter(4)
    #on_pre_leave: app.screen_on_pre_leave(4)
    on_enter: app.screen_on_enter(4)
    on_leave: app.screen_on_leave(4)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl4
                on_press: app.pause_game(4)
            KissButton:
                id: kiss_button_lvl4
                on_state: app.on_toggle_button_state(self, 4)
            SpecialButton:
                id: special_button_lvl4
                on_state: app.on_special_button_state(self, 4)
            MoveAuxChar1:
                #id: move_aux_char_1_lvl6
                #on_state: app.on_move_aux_char_1_button(self, 6)
                disabled: True
            MoveAuxChar2:
                disabled: True
        FloatLayout:
            id: layout_lvl4
            on_touch_down: app.touch_down_handler(4, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_2.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 4"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl4
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl4
            Character:
                id: character_image_lvl4
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            RemainingLifePercent
                id: remaining_life_percent_lvl4
            PauseMenuWidget:
                id: pause_menu_lvl4

<Level5>:
    name: "level5"
    on_pre_enter: app.screen_on_pre_enter(5)
    #on_pre_leave: app.screen_on_pre_leave(5)
    on_enter: app.screen_on_enter(5)
    on_leave: app.screen_on_leave(5)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl5
                on_press: app.pause_game(5)
            KissButton:
                id: kiss_button_lvl5
                on_state: app.on_toggle_button_state(self, 5)
            SpecialButton:
                id: special_button_lvl5
                on_state: app.on_special_button_state(self, 5)
            MoveAuxChar1:
                #id: move_aux_char_1_lvl6
                #on_state: app.on_move_aux_char_1_button(self, 6)
                disabled: True
            MoveAuxChar2:
                disabled: True
        FloatLayout:
            id: layout_lvl5
            on_touch_down: app.touch_down_handler(5, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_2.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 5"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl5
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl5
            Character:
                id: character_image_lvl5
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            RemainingLifePercent
                id: remaining_life_percent_lvl5
            PauseMenuWidget:
                id: pause_menu_lvl5


<Level6>:
    name: "level6"
    on_pre_enter: app.screen_on_pre_enter(6)
    #on_pre_leave: app.screen_on_pre_leave(6)
    on_enter: app.screen_on_enter(6)
    on_leave: app.screen_on_leave(6)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl6
                on_press: app.pause_game(6)
            KissButton:
                id: kiss_button_lvl6
                on_state: app.on_toggle_button_state(self, 6)
            SpecialButton:
                id: special_button_lvl6
                on_state: app.on_special_button_state(self, 6)
            MoveAuxChar1:
                disabled: True
            MoveAuxChar2:
                id: move_aux_char_2_lvl6
                on_state: app.on_move_aux_char_2_button(self, 6)
        FloatLayout:
            #size_hint: 0, 0.9
            id: layout_lvl6
            on_touch_down: app.touch_down_handler(6, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_3.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 6"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl6
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl6
            Character:
                id: character_image_lvl6
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            AuxChar2:
                id: aux_char_2_image_lvl6
            RemainingLifePercent
                id: remaining_life_percent_lvl6
            #RemainingLifePercentAuxChar1
            #    id: remaining_life_percent_aux_char_1_lvl6
            RemainingLifePercentAuxChar2
                id: remaining_life_percent_aux_char_2_lvl6
            PauseMenuWidget:
                id: pause_menu_lvl6

<Level7>:
    name: "level7"
    on_pre_enter: app.screen_on_pre_enter(7)
    #on_pre_leave: app.screen_on_pre_leave(7)
    on_enter: app.screen_on_enter(7)
    on_leave: app.screen_on_leave(7)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl7
                on_press: app.pause_game(7)
            KissButton:
                id: kiss_button_lvl7
                on_state: app.on_toggle_button_state(self, 7)
            SpecialButton:
                id: special_button_lvl7
                on_state: app.on_special_button_state(self, 7)
            MoveAuxChar1:
                disabled: True
            MoveAuxChar2:
                id: move_aux_char_2_lvl7
                on_state: app.on_move_aux_char_2_button(self, 7)
        FloatLayout:
            #size_hint: 0, 0.9
            id: layout_lvl7
            on_touch_down: app.touch_down_handler(7, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_3.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 7"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl7
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl7
            Character:
                id: character_image_lvl7
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            AuxChar2:
                id: aux_char_2_image_lvl7
            RemainingLifePercent
                id: remaining_life_percent_lvl7
            #RemainingLifePercentAuxChar1
            #    id: remaining_life_percent_aux_char_1_lvl7
            RemainingLifePercentAuxChar2
                id: remaining_life_percent_aux_char_2_lvl7
            PauseMenuWidget:
                id: pause_menu_lvl7


<Level8>:
    name: "level8"
    on_pre_enter: app.screen_on_pre_enter(8)
    #on_pre_leave: app.screen_on_pre_leave(8)
    on_enter: app.screen_on_enter(8)
    on_leave: app.screen_on_leave(8)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl8
                on_press: app.pause_game(8)
            KissButton:
                id: kiss_button_lvl8
                on_state: app.on_toggle_button_state(self, 8)
            SpecialButton:
                id: special_button_lvl8
                on_state: app.on_special_button_state(self, 8)
            MoveAuxChar1:
                id: move_aux_char_1_lvl8
                on_state: app.on_move_aux_char_1_button(self, 8)
            MoveAuxChar2:
                id: move_aux_char_2_lvl8
                on_state: app.on_move_aux_char_2_button(self, 8)
        FloatLayout:
            #size_hint: 0, 0.9
            id: layout_lvl8
            on_touch_down: app.touch_down_handler(8, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_4.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 8"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl8
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl8
            Character:
                id: character_image_lvl8
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            AuxChar1:
                id: aux_char_1_image_lvl8
            AuxChar2:
                id: aux_char_2_image_lvl8
            RemainingLifePercent
                id: remaining_life_percent_lvl8
            RemainingLifePercentAuxChar1
                id: remaining_life_percent_aux_char_1_lvl8
            RemainingLifePercentAuxChar2
                id: remaining_life_percent_aux_char_2_lvl8
            PauseMenuWidget:
                id: pause_menu_lvl8

<Level9>:
    name: "level9"
    on_pre_enter: app.screen_on_pre_enter(9)
    #on_pre_leave: app.screen_on_pre_leave(9)
    on_enter: app.screen_on_enter(9)
    on_leave: app.screen_on_leave(9)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl9
                on_press: app.pause_game(9)
            KissButton:
                id: kiss_button_lvl9
                on_state: app.on_toggle_button_state(self, 9)
            SpecialButton:
                id: special_button_lvl9
                on_state: app.on_special_button_state(self, 9)
            MoveAuxChar1:
                id: move_aux_char_1_lvl9
                on_state: app.on_move_aux_char_1_button(self, 9)
            MoveAuxChar2:
                id: move_aux_char_2_lvl9
                on_state: app.on_move_aux_char_2_button(self, 9)
        FloatLayout:
            #size_hint: 0, 0.9
            id: layout_lvl9
            on_touch_down: app.touch_down_handler(9, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_4.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 9"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl9
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl9
            Character:
                id: character_image_lvl9
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            AuxChar1:
                id: aux_char_1_image_lvl9
            AuxChar2:
                id: aux_char_2_image_lvl9
            RemainingLifePercent
                id: remaining_life_percent_lvl9
            RemainingLifePercentAuxChar1
                id: remaining_life_percent_aux_char_1_lvl9
            RemainingLifePercentAuxChar2
                id: remaining_life_percent_aux_char_2_lvl9
            PauseMenuWidget:
                id: pause_menu_lvl9

<Level10>:
    name: "level10"
    on_pre_enter: app.screen_on_pre_enter(10)
    #on_pre_leave: app.screen_on_pre_leave(10)
    on_enter: app.screen_on_enter(10)
    on_leave: app.screen_on_leave(10)
    BoxLayout:
        orientation: "horizontal"
        RelativeLayout:
            size_hint: app.SIDE_BAR_WIDTH, 1
            PauseButton:
                id: pause_button_lvl10
                on_press: app.pause_game(10)
            KissButton:
                id: kiss_button_lvl10
                on_state: app.on_toggle_button_state(self, 10)
            SpecialButton:
                id: special_button_lvl10
                on_state: app.on_special_button_state(self, 10)
            MoveAuxChar1:
                id: move_aux_char_1_lvl10
                on_state: app.on_move_aux_char_1_button(self, 10)
            MoveAuxChar2:
                id: move_aux_char_2_lvl10
                on_state: app.on_move_aux_char_2_button(self, 10)
        FloatLayout:
            #size_hint: 0, 0.9
            id: layout_lvl10
            on_touch_down: app.touch_down_handler(10, args)
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "graphics/levels-bg/forest/game_background_4.jpg"
            BoxIndicators:
                LevelLabel:
                    text: "Level 10"
                BoxWaves:
                    NumWaves:
                        id: num_waves_lvl10
                BoxStars:
                    NumCollectedStars:
                        id: num_stars_collected_lvl10
            Character:
                id: character_image_lvl10
                #pos: root.center_x-self.size[0]/2, root.center_y-self.size[1]/2
            AuxChar1:
                id: aux_char_1_image_lvl10
            AuxChar2:
                id: aux_char_2_image_lvl10
            RemainingLifePercent
                id: remaining_life_percent_lvl10
            RemainingLifePercentAuxChar1
                id: remaining_life_percent_aux_char_1_lvl10
            RemainingLifePercentAuxChar2
                id: remaining_life_percent_aux_char_2_lvl10
            PauseMenuWidget:
                id: pause_menu_lvl10

###################################################
# TOGGLE BUTTONS SECTION
###################################################
<KissButton@ToggleButton>:
    size_hint: 1, 0.17
    #text: "Kiss"
    pos_hint: {'x': 0.0, 'y': 0.0}
    border: -4, -4, -4, -4
    background_normal: "graphics/entities/kiss1_bw.png"
    background_down: "graphics/entities/kiss1.png"

<SpecialButton@ToggleButton>:
    size_hint: 1, 0.17
    #text: "Diaper"
    pos_hint: {'x': 0.0, 'y': 0.17}
    border: 8, 8, 8, 8
    background_normal: "graphics/entities/diaper_bw.png"
    background_down: "graphics/entities/diaper.png"
    background_disabled_normal: "graphics/entities/Lock.png"
    disabled: not app.special_button_enabled


<MoveAuxChar1@ToggleButton>:
    size_hint: 1, 0.17
    #text: "Mathis"
    pos_hint: {'x': 0.0, 'y': 0.49}
    border: 8, 8, 8, 8
    background_normal: "graphics/entities/Mage/Idle/idle1_bw.png"
    background_down: "graphics/entities/Mage/Idle/idle1.png"
    background_disabled_normal: "graphics/entities/Lock.png"
    disabled: not app.move_aux_char_1_button_enabled

<MoveAuxChar2@ToggleButton>:
    size_hint: 1, 0.17
    #text: "Aux 2"
    pos_hint: {'x': 0.0, 'y': 0.34}
    border: 8, 8, 8, 8
    background_normal: "graphics/entities/Rogue/Idle/idle1_bw.png"
    background_down: "graphics/entities/Rogue/Idle/idle1.png"
    background_disabled_normal: "graphics/entities/Lock.png"
    disabled: not app.move_aux_char_2_button_enabled

###################################################
# CHARACTERS SECTION
###################################################

<Character@Image>:
    #id: character_image
    size_hint: (0.07, 0.25)
    pos: self.parent.width/2-self.size[0]/2, self.parent.height/2-self.size[1]/2
    #pos_hint: {'center_x': app.character_center_x, 'center_y': app.character_center_y}
    source: "graphics/entities/Adelita_2.png"
    source: "graphics/entities/Enchantress/Idle_1.png"
    allow_stretch: True
    keep_ratio: False
    mipmap: True

<AuxChar1@Image>:
    size_hint: (0.07, 0.25)
    pos: self.parent.width/4-self.size[0]/2, self.parent.height/4-self.size[1]/2
    #pos_hint: {'center_x': app.character_center_x, 'center_y': app.character_center_y}
    source: "graphics/entities/Mage/Idle/idle1.png"
    allow_stretch: True
    keep_ratio: False
    mipmap: True

<AuxChar2@Image>:
    size_hint: (0.10, 0.28)
    pos: self.parent.width/4+self.size[0]/2, self.parent.height/4+self.size[1]/2
    #pos_hint: {'center_x': app.character_center_x, 'center_y': app.character_center_y}
    source: "graphics/entities/Rogue/Idle/idle1.png"
    allow_stretch: True
    keep_ratio: False
    mipmap: True


<RemainingLifePercent@Label>:
    #remaining_life_size_hint_y: 0.3
    remaining_life_size_hint_x: 0.07
    size_hint: (None, 0.03)
    #pos_hint: {'x': 0.01, 'y': 0.86}
    pos: 0, 0
    #font_size: 20
    canvas:
        Color:
            rgba: (0, 0, 1, 0.7)
        Rectangle:
            pos: self.pos
            size: self.size

<RemainingLifePercentAuxChar1@Label>:
    #remaining_life_size_hint_y: 0.3
    remaining_life_size_hint_x: 0.07
    size_hint: (0.3, 0.03)
    #font_size: 20
    pos: 0, 0
    canvas:
        Color:
            rgba: (0, 0, 1, 0.7)
        Rectangle:
            pos: self.pos
            size: self.size

<RemainingLifePercentAuxChar2@Label>:
    #remaining_life_size_hint_y: 0.3
    remaining_life_size_hint_x: 0.10
    size_hint: (0.3, 0.03)
    #font_size: 20
    pos: 0, 0
    canvas:
        Color:
            rgba: (0, 0, 1, 0.7)
        Rectangle:
            pos: self.pos
            size: self.size

###################################################
# PAUSE BUTTON AND LEVELS BUTTONS
###################################################

<PauseButton@Button>:
    pos_hint: {'x': 0.05, 'y': 0.9}
    size_hint: (0.9, 0.1)
    background_color: 0, 0, 0, 0
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "graphics/pause_button.png"

<LevelButton@Button>:
    font_size: dp(30)
    font_name: 'graphics/fonts/magic-school/MagicSchoolOne.ttf'
    size_hint: .15, .09
    background_color: 1, .3, .4, .85
    opacity: 1 if self.state == 'normal' else .5

###################################################
# INDICATORS (TEXT BOX) SECTION
###################################################

<BoxIndicators@FloatLayout>:
    size_hint: 0.26, 0.08
    pos_hint: {"x": 0.003, "y": .91}
    canvas.before:
        Color:
            rgba: 1, 1, 1, .5
        Rectangle:
            size: self.size
            pos: self.pos

<LevelLabel@Label>:
    size_hint: 0.35, 1
    pos_hint: {"x": 0.002, "y": 0}
    font_size: font_size_indicators
    font_name: 'graphics/fonts/magic-school/MagicSchoolTwo.ttf'
    outline_width: 2


<NumCollectedStars@Label>:
    text: "0/0"
    font_size: font_size_indicators
    #background_normal: ''
    #size_hint: (1, 0.15)
    pos_hint: {'x': 0.4, 'y': 0.0}
    font_name: 'graphics/fonts/magic-school/MagicSchoolTwo.ttf'
    outline_width: 2

<NumWaves@Label>:
    text: "0/0"
    font_size: font_size_indicators
    #background_normal: ''
    #size_hint: (1, 0.15)
    pos_hint: {'x': 0.4, 'y': 0.0}
    font_name: 'graphics/fonts/magic-school/MagicSchoolTwo.ttf'
    outline_width: 2


<BoxStars@RelativeLayout>:
    #size_hint: 0.08, 0.05
    size_hint: 0.25, 1
    pos_hint: {"x": 0.69, "y": 0}
    Label:
        size_hint: 0.5, 0.8
        pos_hint: {"x": 0, "y": 0.1}
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "graphics/entities/star_small.png"

<BoxWaves@RelativeLayout>:
    #size_hint: 0.08, 0.05
    size_hint: 0.25, 1
    pos_hint: {"x": 0.39, "y": 0}
    Label:
        size_hint: 0.5, 0.8
        pos_hint: {"x": 0, "y": 0.1}
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "graphics/entities/enemy_green.png"

###################################################
# PAUSE MENU SECTION
###################################################

<PauseMenuWidget>:
    #pos_hint: {'x': 0.0, 'y':0.}
    index: 0
    canvas.before:
        Color:
            rgba: 0, 0, 0, .8
        Rectangle:
            size: root.size
            pos: root.parent.width * app.SIDE_BAR_WIDTH, 0
    Button:
        font_size: dp(35)
        font_name: 'graphics/fonts/magic-school/MagicSchoolOne.ttf'
        text: 'Continue'
        pos_hint: {"center_x": .5 + app.SIDE_BAR_WIDTH/2, "center_y": .7}
        size_hint: .2, .15
        background_normal: ''
        on_release: app.on_continue_button_pressed(root.parent.parent.parent)
        background_color: 1, .3, .4, .85
    Button:
        font_size: dp(35)
        font_name: 'graphics/fonts/magic-school/MagicSchoolOne.ttf'
        text: 'Restart'
        pos_hint: {"center_x": .5 + app.SIDE_BAR_WIDTH/2, "center_y": .5}
        size_hint: .2, .15
        background_normal: ''
        on_release: app.on_restart_button_pressed(root.parent.parent.parent)
        background_color: 1, .3, .4, .85
    Button:
        font_size: dp(35)
        font_name: 'graphics/fonts/magic-school/MagicSchoolOne.ttf'
        text: 'Main Menu'
        pos_hint: {"center_x": .5 + app.SIDE_BAR_WIDTH/2, "center_y": .3}
        size_hint: .2, .15
        background_normal: ''
        on_release:
            root.parent.parent.parent.manager.transition.direction = 'right'
            app.on_go_to_main_menu_button_pressed(root.parent.parent.parent)
        background_color: 1, .3, .4, .85